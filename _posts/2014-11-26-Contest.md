---
title: 夹在期中考与C语言竞赛间的惨烈修罗场
layout: post
tags: 
    - Dynamic Programming
    - Algorithm
---

线性代数安定地挂了，动态规划搞不清楚，校C语言竞赛被吊打预定，已经，不会再感到害怕了
===============================

**rt**

线代老师发现班里平均分差别班十几分之后终于决定采用正常的教学方法，于是今天上课奇迹般地用上了课本而且跟上了老师的节奏。

大概是唯一的好消息。

这周六微积分考试，目前手头积压了英语作业。

挂科预定。

XMUOJ办了一场竞赛，《[软院学霸与绝望的我](http://acm.xmu.edu.cn/contest.php?id=134)》，

本来以为能顺利通过的[汽车装配小游戏](http://acm.xmu.edu.cn/problem.php?id=1032)只过了三个数据点，查了四个小时之后发现原因是一个变量名打错，

不过[朴实节俭的TheBeet](http://acm.xmu.edu.cn/problem.php?id=1017)倒是货真价实地错了，在表格上画了半天才想明白，最开始的方法过得了样例却搞不定8x8以上的棋盘。

还有就是[线代老师之怒](http://acm.xmu.edu.cn/problem.php?id=1029)，明明是老师在课上说过的，过了八个数据点之后被彻底打趴下，完全查不出有什么问题。

```C++
	#include <iostream>
	#include <cstdio>
	#define DEBUG 0
	using namespace std;
	/*
	 * f( i , j ) i..j 的最小乘法次数
	 * if(j-i==1)
	 *      f( i , j ) = p[i-1]*p[i]*p[j]
	 * else
	 *      f(i,j)= min( f[i][k]+f[k+1][j]+p[i-1]*p[k]*p[j] for k =i to j )
	 *      
	 */
	const int MAXR=8e6;
	int n,p[250];
	int f[250][250]={0};
	int main(){
		cin>>n;
		for(int i=0;i<=n;i++)
		        cin >> p[i];
		for(int len=1;len<=n;len++)                   //长度
		        for(int st=1;st<=n-len;st++){        //起始位置
		                int i=st;
		                int j=st+len;
		                int min=MAXR,tmp;
		                #if DEBUG
		                //~ cout<<i<<" "<<j<<endl;
		                int _i=i,_j=j,_k=-1;
		                #endif
		                if(j-i==1){
		                        f[i][j]=p[i-1]*p[i]*p[j];
		                        #if DEBUG
		                        #endif
		                }
		                else{
		                        for(int k=i;k<j;k++){
		                                tmp=f[i][k]+f[k+1][j]+p[i-1]*p[k]*p[j];
		                                if(tmp<min||k<0){
		                                        min=tmp;
		                                        #if DEBUG
		                                        _k=k;
		                                        #endif
		                                }
		                                #if DEBUG && 1
		                                printf("FOR:i:%2d j:%2d k:%2d res:%2d f[i][k]:%2d f[k+1][j]:%2d p[i-1]:%2d p[k]:%2d p[j]:%2d\n",_i,_j,k,tmp,f[_i][_k],f[_k+1][_j],p[i-1],p[_k],p[_j]);
		                                #endif
		                        }
		                        f[i][j]=min;
		                }
		                #if DEBUG && 0
		                if(_k<0)
		                        printf("END:i:%2d j:%2d res:%2d p[i-1]:%2d p[i]:%2d p[j]:%2d\n",_i,_j,f[_i][_j],p[i-1],p[_i],p[_j]);
		                else
		                        printf("END:i:%2d j:%2d k:%2d res:%2d f[i][k]:%2d f[k][j]:%2d p[i-1]:%2d p[k]:%2d p[j]:%2d\n",_i,_j,_k,min,f[_i][_k],f[_k][_j],p[i-1],p[_k],p[_j]);
		                #endif
		                #if DEBUG && 0
		                for(int i=1;i<=n;i++){
		                        cout<<(i==_i?"(":" ");
		                        printf("[%2d,%2d]",p[i-1],p[i]);
		                        cout<<(i==_j?")":i==_k?"|":" ");
		                }
		                cout<<endl;
		                #endif
		                #if DEBUG && 1
		                for(int i=1;i<=n;i++){
		                        if(i==_i){
		                                printf("( [%2d,%2d] ...",p[i-1],p[i]);
		                        }
		                        else if (i==_k){
		                                printf(" [%2d,%2d]  || ...",p[i-1],p[i]);
		                        }
		                        else if(i==_j){
		                                printf(" [%2d,%2d]  )",p[i-1],p[i]);
		                        }
		                }
		                cout<<endl;
		                #endif
		        }
		#if DEBUG
		for(int i=1;i<=n;i++){
		        for(int j=1;j<=n;j++){
		                printf("%2d ",f[i][j]);
		        }
		        cout<<endl;
		}
		#endif
		cout<<f[1][n]<<"\n";
		return 0;
	}
	/*******************DEBUG*****************
	 * input:
	 * 4
	 * 1 2 3 4 5
	 * 
	 * output:
	 [ 1, 2] ([ 2, 3]) [ 3, 4]  [ 4, 5]   
	 [ 1, 2]|([ 2, 3]  [ 3, 4]) [ 4, 5]  //在 [3,4] 未定义的时候就用了[3,4]的值
	 [ 1, 2]|([ 2, 3]  [ 3, 4]  [ 4, 5])
	 [ 1, 2]  [ 2, 3] ([ 3, 4]) [ 4, 5] 
	 [ 1, 2]  [ 2, 3]|([ 3, 4]  [ 4, 5])
	 [ 1, 2]  [ 2, 3]  [ 3, 4] ([ 4, 5])
	*/
```
高亮的问题搞不清楚暂时也懒得弄。


就在我苦苦调试的时候若干学霸飞一般地AC了……
